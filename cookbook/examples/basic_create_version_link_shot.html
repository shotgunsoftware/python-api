



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create a Version Linked to a Shot &mdash; python-api master documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Upload a Thumbnail for a Version" href="basic_upload_thumbnail_version.html" />
    <link rel="prev" title="Create a Shot with a Task Template" href="basic_create_shot_task_template.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='../../_static/logo_sg@2x.png'/>
    
    </a>
    

          
            <a href="../../index.html" class="icon icon-home"> python-api
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../cookbook.html">API Cookbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../usage_tips.html">API Usage Tips</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../tutorials.html">Examples</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../tutorials.html#basic">Basic</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="basic_sg_instance.html">Create a Shotgun API instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_create_shot.html">Create A Shot</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_find_shot.html">Find a Shot</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_update_shot.html">Update A Shot</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_delete_shot.html">Delete A Shot</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_create_shot_task_template.html">Create a Shot with a Task Template</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Create a Version Linked to a Shot</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_upload_thumbnail_version.html">Upload a Thumbnail for a Version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials.html#advanced">Advanced</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../attachments.html">Details About Working With Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks.html">Working With Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smart_cut_fields.html">Smart Cut Fields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced Topics</a></li>
</ul>

            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>python-api</b> master.<br>
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/python-api'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">python-api</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../cookbook.html">API Cookbook</a> &raquo;</li>
        
          <li><a href="../tutorials.html">Examples</a> &raquo;</li>
        
      <li>Create a Version Linked to a Shot</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="create-a-version-linked-to-a-shot">
<h1>Create a Version Linked to a Shot<a class="headerlink" href="#create-a-version-linked-to-a-shot" title="Permalink to this headline">¶</a></h1>
<p>You’ve just created a sweet new Version of your shot. Now you want to update Shotgun and create a
new <code class="docutils literal notranslate"><span class="pre">Version</span></code> entity linked to the Shot.</p>
<div class="section" id="find-the-shot">
<h2>Find the Shot<a class="headerlink" href="#find-the-shot" title="Permalink to this headline">¶</a></h2>
<p>First we need to find the Shot since we’ll need to know know its <code class="docutils literal notranslate"><span class="pre">id</span></code> in order to link our Version
to it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Project&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}],</span>
            <span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;100_010&#39;</span><span class="p">]</span> <span class="p">]</span>
<span class="n">shot</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">find_one</span><span class="p">(</span><span class="s1">&#39;Shot&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="find-the-task">
<h2>Find the Task<a class="headerlink" href="#find-the-task" title="Permalink to this headline">¶</a></h2>
<p>Now we find the Task that the Version relates to, again so we can use the <code class="docutils literal notranslate"><span class="pre">id</span></code> to link it to the
Version we’re creating. For this search we’ll use the Shot <code class="docutils literal notranslate"><span class="pre">id</span></code> (which we have now in the <code class="docutils literal notranslate"><span class="pre">shot</span></code>
variable from the previous search) and the Task Name, which maps to the <code class="docutils literal notranslate"><span class="pre">content</span></code> field.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Project&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}],</span>
            <span class="p">[</span><span class="s1">&#39;entity&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Shot&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">shot</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]}],</span>
            <span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;Animation&#39;</span><span class="p">]</span> <span class="p">]</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">find_one</span><span class="p">(</span><span class="s1">&#39;Task&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Linking a Task to the Version is good practice. By doing so it is easy for users to see
at what stage a particular Version was created, and opens up other possibilities for tracking
in Shotgun. We highly recommend doing this whenever possible.</p>
</div>
</div>
<div class="section" id="create-the-version">
<h2>Create the Version<a class="headerlink" href="#create-the-version" title="Permalink to this headline">¶</a></h2>
<p>Now we can create the Version with the link to the Shot and the Task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;project&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Project&#39;</span><span class="p">,</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
         <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="s1">&#39;100_010_anim_v1&#39;</span><span class="p">,</span>
         <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;first pass at opening shot with bunnies&#39;</span><span class="p">,</span>
         <span class="s1">&#39;sg_path_to_frames&#39;</span><span class="p">:</span> <span class="s1">&#39;/v1/gun/s100/010/frames/anim/100_010_animv1_jack.#.jpg&#39;</span><span class="p">,</span>
         <span class="s1">&#39;sg_status_list&#39;</span><span class="p">:</span> <span class="s1">&#39;rev&#39;</span><span class="p">,</span>
         <span class="s1">&#39;entity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Shot&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">shot</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]},</span>
         <span class="s1">&#39;sg_task&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Task&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]},</span>
         <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;HumanUser&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">165</span><span class="p">}</span> <span class="p">}</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Version&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a new Version named ‘100_010_anim_v1’ linked to the ‘Animation’ Task for Shot
‘100_010’ in the Project ‘Gunslinger’.</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">data</span></code> is a list of key/value pairs where the key is the column name to update and the value is
the value to set.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">project</span></code> and <code class="docutils literal notranslate"><span class="pre">code</span></code> are required</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">description</span></code> and <code class="docutils literal notranslate"><span class="pre">sg_path_to_frames</span></code> are just text fields that you might want to update as
well</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sg_status_list</span></code> is the status column for the Version. Here we are setting it to “rev” (Pending
Review) so that it will get reviewed in the next dailies session and people will “ooh” and “aaah”.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">entity</span></code> is where we link this version to the Shot. Entity columns are always handled with this
format. You must provide the entity <code class="docutils literal notranslate"><span class="pre">type</span></code> and its <code class="docutils literal notranslate"><span class="pre">id</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sg_task</span></code> is another entity link field specifically for the Version’s Task link.  This uses the
same entity format as the Shot link, but pointing to the Task entity this time.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">user</span></code> is another entity column where we set the artist responsible for this masterpiece. In
this example, I know the ‘id’ that corresponds to this user, but if you don’t know the id you can
look it up by searching on any of the fields, similar to what we did for the Shot above, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filters</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;jschmoe&#39;</span><span class="p">]]</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;HumanUser&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">result</span></code> variable now contains the <code class="docutils literal notranslate"><span class="pre">id</span></code> of the new Version that was created:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">214</span>
</pre></div>
</div>
</div>
<div class="section" id="upload-a-movie-for-review-in-screening-room">
<h2>Upload a movie for review in Screening Room<a class="headerlink" href="#upload-a-movie-for-review-in-screening-room" title="Permalink to this headline">¶</a></h2>
<p>If Screening Room’s transcoding feature is enabled on your site (hosted sites have this by
default), then you can use the <code class="xref py py-meth docutils literal notranslate"><span class="pre">upload()</span></code> method to upload a QuickTime
movie, PDF, still image, etc. to the <code class="docutils literal notranslate"><span class="pre">sg_uploaded_movie</span></code> field on a Version.  Once the movie is
uploaded, it will automatically be queued for transcoding.  When transcoding is complete, the
Version will be playable in the Screening Room app, or in the Overlay player by clicking on the
Play button that will appear on the Version’s thumbnail.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Transcoding also generates a thumbnail and filmstrip thumbnail automatically.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="basic_upload_thumbnail_version.html" class="btn btn-neutral float-right" title="Upload a Thumbnail for a Version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basic_create_shot_task_template.html" class="btn btn-neutral float-left" title="Create a Shot with a Task Template" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Autodesk

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>